(function(b){"use strict";if(!b)throw"Missing something? Please add angular.js to your project or move this script below the angular.js reference";var a="ngRemoteValidate",c=function(d,c,e){return{restrict:"A","require":["^form","ngModel"],scope:{ngRemoteInterceptors:"=?"},link:function(h,l,q,r){var j={},n,k,o,i,m,p=r[0],g=r[1],f={ngRemoteThrottle:400,ngRemoteMethod:"POST"};b.extend(f,q);if(f.ngRemoteValidate.charAt(0)==="[")f.urls=eval(f.ngRemoteValidate);else if(f.ngRemoteValidate.charAt(0)==="{"){f.keys=eval("("+f.ngRemoteValidate+")");f.urls=Object.keys(f.keys)}else f.urls=[f.ngRemoteValidate];o=function(b){var a=b[0].data.value;if(j[a])return j[a];j[a]=b};m=function(){var c=false;for(var b in g.$error){var d=!f.hasOwnProperty("keys")||!Object.keys(f.keys).filter(function(a){return f.keys[a]===b})[0];if(g.$error[b]&&b!=a&&d){c=true;break}}return!(g.$pristine||c)};k=function(b,j){for(var c=0,l=b.length,e=f.hasOwnProperty("keys"),d=true;c<l;c++){if(h.ngRemoteInterceptors&&h.ngRemoteInterceptors.response)b[c]=h.ngRemoteInterceptors.response(b[c]);if(!b[c].data.isValid){d=false;if(!e)break}var i=e&&b[c].hasOwnProperty("config")&&f.keys[b[c].config.url];if(i){var k=f.keys[b[c].config.url];g.$setValidity(k,b[c].data.isValid)}if(b[c].data.formattedValue){g.$setViewValue(b[c].data.formattedValue);g.$render()}}!j&&o(b);g.$setValidity(a,d);g.$processing=g.$pending=p.$pending=false};n=function(b){if(typeof b==="undefined"||b===""){i&&c.cancel(i);g.$setPristine();g.$setValidity(a,true);return}if(!m(b))return k([{data:{isValid:true,value:b}}],true);if(j[b])return k(j[b],true);if(!g.$pending)g.$processing=g.$pending=p.$pending=true;i&&c.cancel(i);i=c(function(){var j=[],i=0,m=f.urls.length,c={value:b},a={method:f.ngRemoteMethod};if(h[l[0].name+"SetArgs"])c=h[l[0].name+"SetArgs"](b,l,q,g);if(f.ngRemoteMethod=="POST")a.data=c;else a.params=c;for(;i<m;i++){a.url=f.urls[i];if(h.ngRemoteInterceptors&&h.ngRemoteInterceptors.request)a=h.ngRemoteInterceptors.request(a);j.push(d(a))}e.all(j).then(k)},f.ngRemoteThrottle);return true};h.$watch(function(){return g.$viewValue},n)}}};b.module("remoteValidation",[]).constant("MODULE_VERSION","0.6.5").directive(a,["$http","$timeout","$q",c])})(this.angular)