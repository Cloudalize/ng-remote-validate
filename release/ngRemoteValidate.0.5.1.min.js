(function(b){"use strict";if(!b)throw"Missing something? Please add angular.js to your project or move this script below the angular.js reference";var a="ngRemoteValidate",c=function(d,c,e){return{restrict:"A","require":["^form","ngModel"],link:function(k,l,q,r){var h={},n,i,o,j,m,p=r[0],g=r[1],f={ngRemoteThrottle:400,ngRemoteMethod:"POST"};b.extend(f,q);if(f.ngRemoteValidate.charAt(0)==="[")f.urls=eval(f.ngRemoteValidate);else if(f.ngRemoteValidate.charAt(0)==="{"){f.keys=eval("("+f.ngRemoteValidate+")");f.urls=Object.keys(f.keys)}else f.urls=[f.ngRemoteValidate];o=function(b){var a=b[0].data.value;if(h[a])return h[a];h[a]=b};m=function(){var c=false;for(var b in g.$error){var d=!f.hasOwnProperty("keys")||!Object.keys(f.keys).filter(function(a){return f.keys[a]===b})[0];if(g.$error[b]&&b!=a&&d){c=true;break}}return!(g.$pristine||c)};i=function(b,i){for(var c=0,k=b.length,e=f.hasOwnProperty("keys"),d=true;c<k;c++){if(!b[c].data.isValid){d=false;if(!e)break}var h=e&&b[c].hasOwnProperty("config")&&f.keys[b[c].config.url];if(h){var j=f.keys[b[c].config.url];g.$setValidity(j,b[c].data.isValid)}}!i&&o(b);g.$setValidity(a,d);g.$processing=g.$pending=p.$pending=false};n=function(a){if(typeof a==="undefined"||a===""){g.$setPristine();return}if(!m(a))return i([{data:{isValid:true,value:a}}],true);if(h[a])return i(h[a],true);if(!g.$pending)g.$processing=g.$pending=p.$pending=true;j&&c.cancel(j);j=c(function(){var j=[],h=0,m=f.urls.length,c={value:a},b={method:f.ngRemoteMethod};if(k[l[0].name+"SetArgs"])c=k[l[0].name+"SetArgs"](a,l,q,g);if(f.ngRemoteMethod=="POST")b.data=c;else b.params=c;for(;h<m;h++){b.url=f.urls[h];j.push(d(b))}e.all(j).then(i)},f.ngRemoteThrottle);return true};k.$watch(function(){return g.$viewValue},n)}}};b.module("remoteValidation",[]).constant("MODULE_VERSION","0.5.1").directive(a,["$http","$timeout","$q",c])})(this.angular)